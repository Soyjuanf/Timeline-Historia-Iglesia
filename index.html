<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Historia de la Iglesia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- Montserrat -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --olive: #6b705c;
      --olive-dark: #4a4f3c;
      --terracotta: #b5654d;
      --terracotta-light: #d4a59a;
      --bg: #f8f4f1;
      --text: #2b2b2b;
      --white: #ffffff;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: var(--bg);
      color: var(--text);
      overflow: hidden;
    }
    header {
      position: fixed; top: 0; left: 0; right: 0; height: 80px;
      background: var(--olive); color: var(--white);
      display: flex; flex-direction: column; justify-content: center;
      padding: 0 24px; z-index: 10;
    }
    header h1 {
      margin: 0; font-size: 20px; font-weight: 800;
      letter-spacing: 0.12em; text-transform: uppercase;
    }
    header span { font-size: 12px; opacity: 0.8; }
    main {
      position: absolute; inset: 80px 0 0 0;
      display: grid; grid-template-columns: 3fr 1fr;
    }
    .timeline-wrapper {
      overflow-x: auto; display: flex; scroll-snap-type: x mandatory;
      background: #efe9e4;
    }
    .era {
      min-width: 100vw; scroll-snap-align: start;
      padding: 32px; border-right: 1px solid rgba(0,0,0,0.1);
    }
    .era h2 {
      font-weight: 800; text-transform: uppercase;
      letter-spacing: 0.1em; color: var(--terracotta);
      margin-bottom: 12px;
    }
    .layers {
      display: grid; grid-template-rows: repeat(5, 1fr);
      gap: 18px; position: relative; height: calc(100% - 60px);
    }
    .layer {
      position: relative; border-top: 1px dashed rgba(0,0,0,0.2);
    }
    .layer span {
      position: absolute; top: -10px; left: 0;
      background: var(--bg); padding: 2px 8px;
      font-size: 10px; text-transform: uppercase;
      letter-spacing: 0.1em; color: var(--olive-dark);
    }
    .event {
      position: absolute; top: 50%; transform: translate(-50%, -50%);
      background: var(--white); border: 2px solid var(--terracotta);
      border-radius: 999px; padding: 6px 12px; font-size: 11px;
      cursor: pointer; white-space: nowrap;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .event:hover {
      transform: translate(-50%, -50%) scale(1.05);
      box-shadow: 0 6px 16px rgba(0,0,0,0.2);
    }
    aside {
      background: var(--white); padding: 24px;
      border-left: 1px solid rgba(0,0,0,0.1); overflow-y: auto;
    }
    aside h3 {
      margin-top: 0; font-weight: 800;
      letter-spacing: 0.12em; text-transform: uppercase;
      font-size: 14px; color: var(--olive);
    }
    .detail-card h4 {
      margin-top: 12px; margin-bottom: 8px;
      font-weight: 800; color: var(--terracotta);
    }
    .detail-card p {
      font-size: 13px; line-height: 1.6; margin-bottom: 12px;
    }
    .detail-card .tag {
      display: inline-block; font-size: 10px;
      border: 1px solid var(--olive); padding: 2px 6px;
      border-radius: 999px; margin-right: 4px; margin-bottom: 4px;
    }
    @media (max-width: 900px) {
      main { grid-template-columns: 1fr; }
      aside { height: 35vh; }
      .timeline-wrapper { height: calc(100vh - 80px - 35vh); }
    }
  </style>
</head>

<body>

<header>
  <h1>Historia de la Iglesia</h1>
  <span>Línea de tiempo interactiva</span>
</header>

<main>
  <div class="timeline-wrapper" id="timeline">

    <section class="era" data-start="30" data-end="313">
      <h2>Éfeso · Esmirna</h2>
      <div class="layers">
        <div class="layer" data-layer="prophecy"><span>Profecía</span></div>
        <div class="layer" data-layer="remnant"><span>Remanente</span></div>
        <div class="layer" data-layer="rome"><span>Roma</span></div>
        <div class="layer" data-layer="world"><span>Mundo</span></div>
        <div class="layer" data-layer="modern"><span>Otros</span></div>
      </div>
    </section>

    <section class="era" data-start="313" data-end="1517">
      <h2>Pérgamo · Tiatira</h2>
      <div class="layers">
        <div class="layer" data-layer="prophecy"><span>Profecía</span></div>
        <div class="layer" data-layer="remnant"><span>Remanente</span></div>
        <div class="layer" data-layer="rome"><span>Roma</span></div>
        <div class="layer" data-layer="world"><span>Mundo</span></div>
        <div class="layer" data-layer="modern"><span>Otros</span></div>
      </div>
    </section>

    <section class="era" data-start="1517" data-end="2000">
      <h2>Sardis · Filadelfia · Laodicea</h2>
      <div class="layers">
        <div class="layer" data-layer="prophecy"><span>Profecía</span></div>
        <div class="layer" data-layer="remnant"><span>Remanente</span></div>
        <div class="layer" data-layer="rome"><span>Roma</span></div>
        <div class="layer" data-layer="world"><span>Mundo</span></div>
        <div class="layer" data-layer="modern"><span>Denominaciones</span></div>
      </div>
    </section>

  </div>

  <aside>
    <h3>Detalle</h3>
    <div id="detailPanel">
      Haz clic en un evento para ver su información.
    </div>
  </aside>
</main>

<script>
const events = [
  { id:"jesus-ministry", year:29, title:"Ministerio público de Jesús", layer:"prophecy", eraIndex:0,
    description:"Jesús inicia su predicación del Reino de Dios y llama a sus discípulos.", tags:["Evangelios"] },
  { id:"crucifixion", year:30, title:"Crucifixión y Resurrección de Jesús", layer:"prophecy", eraIndex:0,
    description:"Jesús muere bajo Poncio Pilato y resucita al tercer día.", tags:["Redención"] },
  { id:"roman-britain", year:43, title:"Roma invade Bretaña", layer:"world", eraIndex:0,
    description:"El Imperio romano inicia la conquista de Britania.", tags:["Imperio Romano"] },
  { id:"christians-antioch", year:45, title:"Se les llama Cristianos en Antioquía", layer:"remnant", eraIndex:0,
    description:"Los discípulos reciben por primera vez el nombre de cristianos.", tags:["Identidad cristiana"] },
  { id:"paul-travels", year:50, title:"Viajes misioneros de Pablo", layer:"remnant", eraIndex:0,
    description:"Pablo difunde el evangelio por Asia Menor y Europa.", tags:["Misión"] },
  { id:"nero", year:64, title:"Persecución de Nerón", layer:"world", eraIndex:0,
    description:"Primera persecución imperial contra los cristianos.", tags:["Persecución"] },
  { id:"jewish-war", year:66, title:"Primera guerra judío-romana", layer:"world", eraIndex:0,
    description:"Rebelión de los judíos contra Roma.", tags:["Historia"] },
  { id:"peter-martyr", year:67, title:"Martirio del apóstol Pedro", layer:"remnant", eraIndex:0,
    description:"Pedro muere por su fe en Roma.", tags:["Martirio"] },
  { id:"jerusalem", year:70, title:"Destrucción de Jerusalén", layer:"world", eraIndex:0,
    description:"Las legiones romanas destruyen Jerusalén y su templo.", tags:
