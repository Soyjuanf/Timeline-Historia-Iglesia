<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Historia de la Iglesia</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">

<style>
:root{
  --olive:#6b705c;
  --terracotta:#b5654d;
  --bg:#f8f4f1;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:Montserrat;
  background:var(--bg);
}

header{
  background:var(--olive);
  padding:20px;
  color:white;
}

main{
  padding:24px;
}

.era{
  margin-bottom:160px;
  position:relative;
}

.era h2{
  color:var(--terracotta);
  font-weight:900;
  margin-bottom:4px;
  letter-spacing:0.12em;
}

.era small{
  letter-spacing:0.2em;
  opacity:0.7;
}

.axis{
  position:relative;
  margin-top:60px;
  height:2px;
  background:#999;
}

.axis span{
  position:absolute;
  top:10px;
  font-size:11px;
  transform:translateX(-50%);
}

.movements,.events{
  margin-top:36px;
  position:relative;
}

.track-title{
  font-size:10px;
  letter-spacing:0.25em;
  background:white;
  display:inline-block;
  padding:4px 10px;
  margin-bottom:12px;
}

.row{
  position:relative;
  height:56px;
}

.bubble{
  position:absolute;
  transform:translateX(-50%);
  padding:6px 16px;
  border-radius:999px;
  background:white;
  border:2px solid var(--terracotta);
  font-size:11px;
  white-space:nowrap;
}

.movement{
  background:rgba(181,101,77,0.12);
  border-style:dashed;
  transform:none;
}

@media(max-width:600px){
  .bubble{font-size:10px;padding:6px 12px;}
}
</style>
</head>

<body>

<header>
<h1>HISTORIA DE LA IGLESIA</h1>
<small>Línea de tiempo profética</small>
</header>

<main id="app"></main>

<script>
// ======================
// MOTOR DEFINITIVO
// ======================
function percent(val,start,end){
  return ((val-start)/(end-start))*100;
}

// ======================
// BASE DE DATOS COMPLETA
// ======================
const sections=[
{
name:"ÉFESO", subtitle:"0–200", start:0, end:200,
events:[29,30,43,45,50,64,66,67,70,73,79,80,90,100,155,170,200],
movements:[]
},
{
name:"ESMIRNA", subtitle:"200–300", start:200, end:300,
events:[303,311,312,313,325],
movements:[
[156,300,"Montanistas"],
[251,400,"Novacianos"],
[311,500,"Donatistas"],
[428,600,"Nestorianos"]
]
},
{
name:"PÉRGAMO", subtitle:"300–400", start:300, end:400,
events:[330,350,361,380,395],
movements:[]
},
{
name:"TIATIRA", subtitle:"400–1000", start:400, end:1000,
events:[
532,568,570,590,622,640,643,715,725,732,730,
781,790,796,800,962,979,1000
],
movements:[
[500,1200,"Paulistas"],
[700,1400,"Valdenses"],
[900,1200,"Bogomilos"],
[568,774,"Lombardos"]
]
},
{
name:"SARDIS", subtitle:"1100–1400", start:1100, end:1400,
events:[
1096,1147,1188,1202,1215,1265,1266,1384
],
movements:[
[1100,1360,"Albigenses"],
[1415,1450,"Husitas"]
]
},
{
name:"FILADELFIA", subtitle:"1500–1800", start:1500, end:1800,
events:[
1516,1530,1541,1568,1572,1603,1629,1665
],
movements:[
[1517,1600,"Reforma"],
[1525,1700,"Anabautistas"],
[1600,1800,"Misioneros Reformistas"]
]
},
{
name:"LAODICEA", subtitle:"1900–2025", start:1900, end:2025,
events:[1914,1939,1948],
movements:[
[1900,2025,"Movimiento Misionero Moderno"]
]
}
];

// ======================
// RENDER
// ======================
const app=document.getElementById("app");

sections.forEach(sec=>{
const era=document.createElement("section");
era.className="era";

era.innerHTML=`
<h2>${sec.name}</h2>
<small>${sec.subtitle}</small>

<div class="movements"><div class="track-title">MOVIMIENTOS</div></div>
<div class="events"><div class="track-title">EVENTOS HISTÓRICOS</div></div>
<div class="axis"></div>
`;

// Regla
const axis=era.querySelector(".axis");
for(let i=Math.ceil(sec.start/50)*50;i<=sec.end;i+=50){
const s=document.createElement("span");
s.style.left=percent(i,sec.start,sec.end)+"%";
s.textContent=i;
axis.appendChild(s);
}

// Eventos
const ev=era.querySelector(".events");
sec.events.forEach(y=>{
const row=document.createElement("div");
row.className="row";
const b=document.createElement("div");
b.className="bubble";
b.style.left=percent(y,sec.start,sec.end)+"%";
b.textContent=y;
row.appendChild(b);
ev.appendChild(row);
});

// Movimientos
const mv=era.querySelector(".movements");
sec.movements.forEach(m=>{
const row=document.createElement("div");
row.className="row";
const b=document.createElement("div");
b.className="bubble movement";
b.style.left=percent(m[0],sec.start,sec.end)+"%";
b.style.width=percent(m[1],sec.start,sec.end)-percent(m[0],sec.start,sec.end)+"%";
b.textContent=`${m[2]} (${m[0]}–${m[1]})`;
row.appendChild(b);
mv.appendChild(row);
});

app.appendChild(era);
});
</script>

</body>
</html>
