<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Historia de la Iglesia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- Montserrat -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --olive: #6b705c;
      --olive-dark: #4a4f3c;
      --terracotta: #b5654d;
      --terracotta-light: #d4a59a;
      --bg: #f8f4f1;
      --text: #2b2b2b;
      --white: #ffffff;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: var(--bg);
      color: var(--text);
      overflow: hidden;
    }

    header {
      position: fixed;
      top: 0; left: 0; right: 0; height: 80px;
      background: var(--olive);
      color: var(--white);
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 0 24px;
      z-index: 10;
    }

    header h1 {
      margin: 0;
      font-size: 20px;
      font-weight: 800;
      letter-spacing: 0.12em;
      text-transform: uppercase;
    }

    header span {
      font-size: 12px;
      opacity: 0.8;
    }

    main {
      position: absolute;
      inset: 80px 0 0 0;
      display: grid;
      grid-template-columns: 3fr 1fr;
    }

    .timeline-wrapper {
      overflow-x: auto;
      display: flex;
      scroll-snap-type: x mandatory;
      background: #efe9e4;
    }

    .era {
      min-width: 100vw;
      scroll-snap-align: start;
      padding: 32px;
      border-right: 1px solid rgba(0,0,0,0.1);
    }

    .era h2 {
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--terracotta);
      margin-bottom: 4px;
    }

    .era-subtitle {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--olive-dark);
      opacity: 0.8;
    }

    /* Antes había 5 filas, ahora solo una */
    .layers {
      display: grid;
      grid-template-rows: 1fr;
      gap: 18px;
      position: relative;
      height: calc(100% - 64px);
      margin-top: 28px;
    }

    .layer {
      position: relative;
      border-top: 1px dashed rgba(0,0,0,0.2);
    }

    .layer span {
      position: absolute;
      top: -10px;
      left: 0;
      background: var(--bg);
      padding: 2px 8px;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--olive-dark);
    }

    .event {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      background: var(--white);
      border: 2px solid var(--terracotta);
      border-radius: 999px;
      padding: 6px 12px;
      font-size: 11px;
      cursor: pointer;
      white-space: nowrap;
      transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
    }

    .event:hover {
      transform: translate(-50%, -50%) scale(1.05);
      box-shadow: 0 6px 16px rgba(0,0,0,0.2);
      border-color: var(--olive-dark);
    }

    aside {
      background: var(--white);
      padding: 24px;
      border-left: 1px solid rgba(0,0,0,0.1);
      overflow-y: auto;
    }

    aside h3 {
      margin-top: 0;
      font-weight: 800;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      font-size: 14px;
      color: var(--olive);
    }

    .detail-card h4 {
      margin-top: 12px;
      margin-bottom: 8px;
      font-weight: 800;
      color: var(--terracotta);
    }

    .detail-card p {
      font-size: 13px;
      line-height: 1.6;
      margin-bottom: 12px;
    }

    .detail-card .tag {
      display: inline-block;
      font-size: 10px;
      border: 1px solid var(--olive);
      padding: 2px 6px;
      border-radius: 999px;
      margin-right: 4px;
      margin-bottom: 4px;
    }

    @media (max-width: 900px) {
      main {
        grid-template-columns: 1fr;
      }

      aside {
        height: 35vh;
      }

      .timeline-wrapper {
        height: calc(100vh - 80px - 35vh);
      }
    }
  </style>
</head>

<body>

<header>
  <h1>HISTORIA DE LA IGLESIA</h1>
  <span>Línea de tiempo interactiva</span>
</header>

<main>
  <div class="timeline-wrapper" id="timeline">

    <!-- SOLO ÉFESO -->
    <section class="era" data-start="29" data-end="260">
      <h2>ÉFESO</h2>
      <div class="era-subtitle">Apocalipsis 2:1–7 · Iglesia primitiva</div>

      <div class="layers">
        <div class="layer" data-layer="linea">
          <span>Línea de tiempo</span>
        </div>
      </div>
    </section>

  </div>

  <aside>
    <h3>DETALLE</h3>
    <div id="detailPanel">
      Haz clic en un evento para ver su información.
    </div>
  </aside>
</main>

<script>
  // Eventos de la era Éfeso (29–250 d.C.)
  const events = [
    {
      id:"jesus-ministry",
      year:29,
      title:"Ministerio público de Jesús",
      description:"Jesús inicia su predicación del Reino de Dios y llama a sus discípulos.",
      tags:["Evangelios"]
    },
    {
      id:"crucifixion",
      year:30,
      title:"Crucifixión y resurrección de Jesús",
      description:"Jesús muere bajo Poncio Pilato y resucita al tercer día.",
      tags:["Redención"]
    },
    {
      id:"roman-britain",
      year:43,
      title:"Roma invade Bretaña",
      description:"El Imperio romano inicia la conquista de Britania.",
      tags:["Imperio romano"]
    },
    {
      id:"christians-antioch",
      year:45,
      title:"Se les llama cristianos en Antioquía",
      description:"Los discípulos reciben por primera vez el nombre de cristianos.",
      tags:["Identidad cristiana"]
    },
    {
      id:"paul-travels",
      year:50,
      title:"Viajes misioneros de Pablo",
      description:"Pablo difunde el evangelio por Asia Menor y Europa.",
      tags:["Misión"]
    },
    {
      id:"nero",
      year:64,
      title:"Persecución de Nerón",
      description:"Primera persecución imperial contra los cristianos.",
      tags:["Persecución"]
    },
    {
      id:"jewish-war",
      year:66,
      title:"Primera guerra judío-romana",
      description:"Rebelión de los judíos contra Roma.",
      tags:["Historia"]
    },
    {
      id:"peter-martyr",
      year:67,
      title:"Martirio del apóstol Pedro",
      description:"Pedro muere por su fe en Roma.",
      tags:["Martirio"]
    },
    {
      id:"jerusalem",
      year:70,
      title:"Destrucción de Jerusalén",
      description:"Las legiones romanas destruyen Jerusalén y su templo.",
      tags:["Profecía cumplida"]
    },
    {
      id:"masada",
      year:73,
      title:"Caída de Masada",
      description:"Último bastión judío frente a Roma.",
      tags:["Historia judía"]
    },
    {
      id:"vesuvius",
      year:79,
      title:"Erupción del Vesubio",
      description:"Pompeya y Herculano son destruidas.",
      tags:["Catástrofe"]
    },
    {
      id:"josephus",
      year:80,
      title:"Josefo escribe 'La guerra de los judíos'",
      description:"Flavio Josefo relata el conflicto judeo-romano.",
      tags:["Historia"]
    },
    {
      id:"domitian",
      year:90,
      title:"Persecución de Domiciano",
      description:"Cristianos perseguidos por negarse a adorar al emperador.",
      tags:["Persecución"]
    },
    {
      id:"clement",
      year:100,
      title:"Martirio de Clemente de Roma",
      description:"Uno de los primeros obispos de Roma es ejecutado.",
      tags:["Martirio"]
    },
    {
      id:"justin",
      year:155,
      title:"Justino Mártir confronta a Marción",
      description:"Defiende la fe apostólica frente a la herejía de Marción.",
      tags:["Apologética"]
    },
    {
      id:"marcus-aurelius",
      year:170,
      title:"Marco Aurelio y los cristianos",
      description:"Durante su reinado se intensifican martirios locales.",
      tags:["Persecución"]
    },
    {
      id:"tertullian-apology",
      year:200,
      title:"Apología de Tertuliano",
      description:"Tertuliano escribe en defensa del cristianismo.",
      tags:["Apologética"]
    },
    {
      id:"decius-persecution",
      year:250,
      title:"Persecución de Decio",
      description:"Primera persecución imperial obligatoria contra todos los cristianos.",
      tags:["Persecución"]
    }
  ];

  const era = document.querySelector(".era");
  const layer = era.querySelector('.layer[data-layer="linea"]');
  const start = parseInt(era.dataset.start, 10);
  const end = parseInt(era.dataset.end, 10);
  const detailPanel = document.getElementById("detailPanel");

  // Para que no se monten todos en la misma altura, variamos un poco Y
  const offsetsY = [-18, 0, 18];

  events.forEach(function(event, index) {
    const percent = ((event.year - start) / (end - start)) * 100;
    const el = document.createElement("div");
    el.className = "event";
    el.style.left = percent + "%";

    // 50% es la línea base; añadimos un pequeño offset arriba/abajo
    const offset = offsetsY[index % offsetsY.length];
    el.style.top = "calc(50% + " + offset + "px)";

    el.textContent = event.year + " · " + event.title;

    el.addEventListener("click", function() {
      const tagsHtml = event.tags
        .map(function(t) { return '<span class="tag">' + t + '</span>'; })
        .join("");

      detailPanel.innerHTML =
        '<div class="detail-card">' +
          '<h4>' + event.title + '</h4>' +
          '<p>' + event.description + '</p>' +
          '<div>' + tagsHtml + '</div>' +
        '</div>';
    });

    layer.appendChild(el);
  });
</script>

</body>
</html>
