<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Historia de la Iglesia â€“ LÃ­nea de tiempo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- Montserrat -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --olive: #6b705c;
      --olive-dark: #4a4f3c;
      --terracotta: #b5654d;
      --terracotta-soft: rgba(181, 101, 77, 0.14);
      --bg: #f8f4f1;
      --bg-soft: #efe7df;
      --text: #2b2b2b;
      --white: #ffffff;
      --shadow-soft: 0 8px 20px rgba(0,0,0,0.18);
    }

    * { box-sizing: border-box; }

    body {
  margin: 0;
  font-family: 'Montserrat', sans-serif;
  background: var(--bg);
  color: var(--text);
  overflow-x: hidden;   /* âœ… solo bloquea el scroll lateral */
  overflow-y: hidden;     /* âœ… permite scroll hacia abajo */
}

    header {
      position: fixed;
      top: 0; left: 0; right: 0;
      height: 80px;
      background: var(--olive);
      color: var(--white);
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 0 24px;
      z-index: 20;
    }

    header h1 {
      margin: 0;
      font-size: 20px;
      font-weight: 800;
      letter-spacing: 0.14em;
      text-transform: uppercase;
    }

    header span {
      font-size: 12px;
      opacity: 0.85;
    }

    main {
  position: absolute;
  inset: 80px 0 0 0;                 /* pegado al header fijo */
  display: grid;
  grid-template-columns: minmax(0, 3fr) minmax(260px, 1fr);
  height: calc(100vh - 80px);        /* ocupa todo el alto visible */
}

    /* TIMELINE */

    .timeline-viewport {
  position: relative;
  overflow-x: auto;
  overflow-y: auto;    /* <- antes lo tenÃ­as en hidden */
  background: var(--bg-soft);
  scroll-behavior: smooth;
}

    .timeline-canvas {
      position: relative;
      height: 890px;
      min-width: 3200px;
    }

    /* Bandas de eras (solo fondo) */

    .era-band {
      position: absolute;
      top: 35px;
      height: 82px;
      background: rgba(255,255,255,0.4);
      border-radius: 20px;
      border: 2px solid var(--terracotta);
    }

    .era-title {
      position: absolute;
      top: 15px;
      left: 12px;
      font-size: 16px;
      font-weight: 800;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--terracotta);
    }

    .era-subtitle {
      position: absolute;
      top: 39px;
      left: 12px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--olive-dark);
      opacity: 0.8;
    }

    /* LÃ­neas de referencia (misma altura en TODA la lÃ­nea) */

    .track-line {
      position: absolute;
      left: 0;
      right: 0;
      border-top: 1px dashed rgba(0,0,0,0.22);
      z-index: 1;
    }

    .track-line--mov {
      top: 180px;
    }

    .track-line--evt {
      top: 470px;
    }

    .track-label {
      position: absolute;
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      background: var(--white);
      padding: 3px 10px;
      color: var(--olive-dark);
      z-index: 3;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    .track-label--mov {
      top: 170px;
      left: 24px;
      transform: translateY(-140%);
    }

    .track-label--evt {
      top: 460px;
      left: 24px;
      transform: translateY(-140%);
    }

    /* Burbujas */

    .bubble {
      position: absolute;
      padding: 7px 13px;
      background: var(--white);
      border-radius: 999px;
      border: 2px solid var(--terracotta);
      font-size: 11px;
      white-space: nowrap;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
      max-width: 8000px;
      overflow: hidden;
      text-overflow: ellipsis;
      z-index: 2;
    }

    .bubble:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-soft);
      border-color: var(--olive-dark);
    }

    .bubble--movement {
      background: var(--terracotta-soft);
      border-style: dashed;
    }

    @media (max-width: 480px) {
      .bubble {
        max-width: 240px;
        font-size: 10px;
        padding: 6px 10px;
      }
    }

    /* Regla inferior global (10 en 10, SIEMPRE ABAJO) */

    .ruler {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 26px;
      height: 1px;
      background: rgba(0,0,0,0.3);
      z-index: 1;
    }

    .ruler-tick {
      position: absolute;
      top: -4px;
      width: 1px;
      height: 9px;
      background: rgba(0,0,0,0.6);
    }

    .ruler-label {
      position: absolute;
      top: 10px;
      font-size: 10px;
      transform: translateX(-50%);
      color: rgba(0,0,0,0.75);
    }

        /* LÃ­neas verticales en aÃ±os clave (200, 300, 400, 1000, 1500, 1900) */
    .era-divider {
      position: absolute;
      top: 0;          /* desde arriba */
      bottom: 0;       /* hasta lo mÃ¡s abajo del canvas */
      width: 0;
      border-left: 1px dashed rgba(181, 101, 77, 0.14);
      z-index: 0;      /* por detrÃ¡s de las burbujas y tÃ­tulos */
    }

    /* PANEL DETALLE */

    aside {
      background: var(--white);
      border-left: 1px solid rgba(0,0,0,0.08);
      padding: 24px 20px;
      overflow-y: auto;
    }

    aside h3 {
      margin-top: 0;
      font-weight: 800;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      font-size: 13px;
      color: var(--olive-dark);
    }

    .detail-card h4 {
      margin-top: 12px;
      margin-bottom: 8px;
      font-weight: 800;
      color: var(--terracotta);
    }

    .detail-card p {
      font-size: 13px;
      line-height: 1.6;
      margin-bottom: 12px;
    }

    .detail-card .tag {
      display: inline-block;
      font-size: 10px;
      border: 1px solid var(--olive);
      padding: 4px 8px;
      border-radius: 999px;
      margin-right: 6px;
      margin-bottom: 6px;
    }

    @media (max-width: 900px) {
  main {
    grid-template-columns: 1fr;
    grid-template-rows: minmax(0, 2.4fr) minmax(0, 1fr);
  }

  aside {
    border-left: none;
    border-top: 1px solid rgba(0,0,0,0.08);
    height: auto;
  }

  .timeline-canvas {
    /* usa la altura grande por defecto */
    height: 900px;      /* o el valor que necesites para que quepan todos los eventos */
    min-width: 2200px;
  }
   @media screen and (orientation: landscape) and (max-width: 900px) {
  main {
    display: grid;
    grid-template-columns: minmax(0, 3fr) minmax(260px, 1fr);
    grid-template-rows: 1fr;
  }

  aside {
    border-top: none;
    border-left: 1px solid rgba(0,0,0,0.08);
  }

  .timeline-viewport {
    overflow-x: auto;
    overflow-y: auto;
  }
}   
}
  </style>
</head>

<body>
<header>
  <h1>HISTORIA DE LA IGLESIA</h1>
  <span>LÃ­nea de tiempo interactiva</span>
</header>

<main>
  <div class="timeline-viewport">
    <div class="timeline-canvas" id="timelineCanvas"></div>
  </div>

  <aside>
    <h3>DETALLE</h3>
    <div id="detailPanel">
      Haz clic en un evento o movimiento para ver su informaciÃ³n.
    </div>
  </aside>
</main>

<script>
  const MIN_YEAR = 0;
  const MAX_YEAR = 2025;

  const ERAS = [
    { id: 'efeso',      start:   0, end:  200, title: 'Ã‰FESO',      subtitle: 'Apocalipsis 2:1â€“7 Â· La Iglesia Agotada (0â€“200)' },
    { id: 'esmirna',    start: 200, end:  300, title: 'ESMIRNA',    subtitle: 'Apocalipsis 2:8â€“11 Â· La Iglesia Sufriente (200â€“300)' },
    { id: 'pergamo',    start: 300, end:  400, title: 'PÃ‰RGAMO',    subtitle: 'Apocalipsis 2:12â€“17 Â· La Iglesia Que Se CasÃ³ Con El Mundo (300â€“400)' },
    { id: 'tiatira',    start: 400, end: 1000, title: 'TIATIRA',    subtitle: 'Apocalipsis 2:18â€“29 Â· La Iglesia Pagana (400â€“1000)' },
    { id: 'sardis',     start:1000, end: 1500, title: 'SARDIS',     subtitle: 'Apocalipsis 3:1â€“6 Â· La Iglesia Reformada (1100â€“1400)' },
    { id: 'filadelfia', start:1500, end: 1900, title: 'FILADELFIA', subtitle: 'Apocalipsis 3:7â€“13 Â· La Iglesia Misionera (1500â€“1800)' },
    { id: 'laodicea',   start:1900, end: 2025, title: 'LAODICEA',   subtitle: 'Apocalipsis 3:14â€“22 Â· La Iglesia De La Puerta Cerrada (1900â€“2025)' }
  ];

  // MOVIMIENTOS
  const MOVEMENTS = [
    // Esmirna
    { era:'esmirna', start:156, end:300, title:'Montanistas', description:'Movimiento profÃ©tico y rigorista surgido en Frigia.', tags:['Movimiento'] },
    { era:'esmirna', start:251, end:400, title:'Novacianos', description:'Grupo que negaba la readmisiÃ³n de los que apostataron.', tags:['Movimiento'] },
    { era:'esmirna', start:311, end:500, title:'Donatistas', description:'Movimiento norteafricano que exigÃ­a pureza absoluta en los ministros.', tags:['Movimiento'] },
    { era:'esmirna', start:428, end:600, title:'Nestorianos', description:'Corriente cristolÃ³gica asociada a Nestorio, extendida hacia Persia y Asia.', tags:['Movimiento'] },

    // Tiatira
    { era:'tiatira', start:650, end:900,  title:'Paulistas', description:'Paulicianos / paulistas procedentes de Armenia y Asia Menor.', tags:['Movimiento'] },
    { era:'tiatira', start:900, end:1200, title:'Bogomilos', description:'Movimiento de los Balcanes crÃ­tico de la Iglesia oficial.', tags:['Movimiento'] },
    { era:'tiatira', start:1050, end:1200, title:'Lombardos', description:'Grupos disidentes relacionados con el norte de Italia.', tags:['Movimiento'] },
    { era:'tiatira', start:1070, end:1300, title:'Valdenses', description:'Seguidores de Pedro Valdo, defensores de la predicaciÃ³n bÃ­blica.', tags:['Movimiento'] },
    { era:'tiatira', start:1140, end:1300, title:'CÃ¡taros', description:'Movimientos disidentes tambiÃ©n llamados albigenses.', tags:['Movimiento'] },

    // Sardis
    { era:'sardis', start:1140, end:1300, title:'Albigenses', description:'Rama de los cÃ¡taros en el sur de Francia.', tags:['Movimiento'] },
    { era:'sardis', start:1415, end:1450, title:'Husitas', description:'Movimiento que continÃºa las ideas de Hus en Bohemia.', tags:['Movimiento'] },

    // Filadelfia
    { era:'filadelfia', start:1525, end:1700, title:'Anabautistas', description:'Movimientos que enfatizan el bautismo de creyentes y la vida de discipulado.', tags:['Movimiento'] },
    { era:'filadelfia', start:1536, end:1800, title:'Menonitas', description:'Herederos de Menno Simons.', tags:['Movimiento'] },
    { era:'filadelfia', start:1609, end:1800, title:'Bautistas', description:'Iglesias que destacan el bautismo de creyentes.', tags:['Movimiento'] },
    { era:'filadelfia', start:1675, end:1800, title:'Pietistas', description:'Corriente que resalta la piedad personal.', tags:['Movimiento'] }
  ];

  // EVENTOS
  const EVENTS = [
    // Ã‰FESO
    { era:'efeso', year:29,  title:'Ministerio pÃºblico de JesÃºs', description:'JesÃºs inicia su ministerio pÃºblico.', tags:['Evangelios'] },
    { era:'efeso', year:30,  title:'CrucifixiÃ³n y resurrecciÃ³n de JesÃºs', description:'Muerte y resurrecciÃ³n de Cristo.', tags:['RedenciÃ³n'] },
    { era:'efeso', year:43,  title:'Roma invade BretaÃ±a', description:'Comienza la conquista romana de BretaÃ±a.', tags:['Imperio romano'] },
    { era:'efeso', year:45,  title:'Se les llama cristianos en AntioquÃ­a', description:'Por primera vez los discÃ­pulos son llamados â€œcristianosâ€.', tags:['Identidad cristiana'] },
    { era:'efeso', year:50,  title:'Viajes misioneros de Pablo', description:'Pablo extiende el evangelio por Asia Menor y Europa.', tags:['MisiÃ³n'] },
    { era:'efeso', year:64,  title:'PersecuciÃ³n de NerÃ³n', description:'NerÃ³n culpa a los cristianos del incendio de Roma.', tags:['PersecuciÃ³n'] },
    { era:'efeso', year:66,  title:'Primera guerra judÃ­o-romana', description:'Levantamiento judÃ­o contra Roma.', tags:['Historia'] },
    { era:'efeso', year:67,  title:'Martirio del apÃ³stol Pedro', description:'Pedro muere martirizado en Roma.', tags:['Martirio'] },
    { era:'efeso', year:70,  title:'DestrucciÃ³n de JerusalÃ©n', description:'Roma destruye JerusalÃ©n y el templo.', tags:['ProfecÃ­a cumplida'] },
    { era:'efeso', year:73,  title:'CaÃ­da de Masada', description:'Ãšltimo bastiÃ³n judÃ­o frente a Roma.', tags:['Historia judÃ­a'] },
    { era:'efeso', year:79,  title:'ErupciÃ³n del Vesubio', description:'DestrucciÃ³n de Pompeya y Herculano.', tags:['CatÃ¡strofe'] },
    { era:'efeso', year:80,  title:'Josefo escribe â€œLa guerra de los judÃ­osâ€', description:'CrÃ³nica clave del conflicto judeo-romano.', tags:['Historia'] },
    { era:'efeso', year:90,  title:'PersecuciÃ³n de Domiciano', description:'PersecuciÃ³n por negarse a adorar al emperador.', tags:['PersecuciÃ³n'] },
    { era:'efeso', year:100, title:'Martirio de Clemente de Roma', description:'Obispo de Roma ejecutado.', tags:['Martirio'] },
    { era:'efeso', year:155, title:'Justino MÃ¡rtir confronta a MarciÃ³n', description:'Defensa de la fe frente a MarciÃ³n.', tags:['ApologÃ©tica'] },
    { era:'efeso', year:170, title:'Marco Aurelio y los cristianos', description:'Se intensifican persecuciones locales.', tags:['PersecuciÃ³n'] },
    { era:'efeso', year:200, title:'ApologÃ­a de Tertuliano', description:'Defensas formales de la fe cristiana.', tags:['ApologÃ©tica'] },
    { era:'efeso', year:250, title:'PersecuciÃ³n de Decio', description:'PersecuciÃ³n imperial con sacrificios obligatorios.', tags:['PersecuciÃ³n'] },

    // ESMIRNA
    { era:'esmirna', year:303, title:'Gran persecuciÃ³n de Diocleciano', description:'Intento sistemÃ¡tico de destruir la Iglesia.', tags:['PersecuciÃ³n'] },
    { era:'esmirna', year:311, title:'Historia eclesiÃ¡stica de Eusebio', description:'Primera gran historia de la Iglesia.', tags:['Historia de la Iglesia'] },
    { era:'esmirna', year:312, title:'Constantino gana el Puente Milvio', description:'Victoria bajo el sÃ­mbolo cristiano.', tags:['Constantino'] },
    { era:'esmirna', year:313, title:'Edicto de MilÃ¡n', description:'Libertad religiosa para los cristianos.', tags:['Iglesia y Estado'] },
    { era:'esmirna', year:325, title:'Concilio de Nicea', description:'Se afirma la divinidad de Cristo.', tags:['Concilios'] },
    { era:'esmirna', year:340, title:'Cristianismo en Abisinia', description:'La fe llega a EtiopÃ­a.', tags:['MisiÃ³n'] },
    { era:'esmirna', year:361, title:'Juliano el ApÃ³stata', description:'Intenta restaurar el paganismo.', tags:['Imperio'] },
    { era:'esmirna', year:370, title:'Basilio contra el arrianismo', description:'Defensa de la doctrina trinitaria.', tags:['TeologÃ­a'] },
    { era:'esmirna', year:380, title:'Cristianismo religiÃ³n oficial del Imperio', description:'Edicto de TesalÃ³nica.', tags:['Iglesia y Estado'] },
    { era:'esmirna', year:395, title:'DivisiÃ³n del Imperio romano', description:'Oriente y Occidente.', tags:['Imperio romano'] },
    { era:'esmirna', year:396, title:'AgustÃ­n obispo de Hipona', description:'Inicio de su ministerio episcopal.', tags:['TeologÃ­a'] },
    { era:'esmirna', year:405, title:'JerÃ³nimo termina la Vulgata', description:'TraducciÃ³n latina de la Biblia.', tags:['Biblia'] },
    { era:'esmirna', year:431, title:'Se afirma el tÃ­tulo â€œMadre de Diosâ€', description:'Concilio de Ã‰feso y Theotokos.', tags:['MariologÃ­a'] },
    { era:'esmirna', year:436, title:'Tropas romanas abandonan Britania', description:'Fin de la presencia militar romana en la isla.', tags:['Historia'] },
    { era:'esmirna', year:443, title:'Pueblos germÃ¡nicos en Alsacia', description:'Asentamientos dentro del Imperio.', tags:['Invasiones'] },
    { era:'esmirna', year:450, title:'LeÃ³n I y el rol del papado', description:'El papa media ante los invasores.', tags:['Papado'] },
    { era:'esmirna', year:452, title:'Atila el Huno invade Italia', description:'Encuentro con LeÃ³n I.', tags:['Invasiones'] },
    { era:'esmirna', year:455, title:'Los vÃ¡ndalos saquean Roma', description:'Nuevo saqueo de la ciudad.', tags:['CaÃ­da de Roma'] },
    { era:'esmirna', year:470, title:'Florece la civilizaciÃ³n maya clÃ¡sica', description:'Apogeo de las ciudades-estado mayas.', tags:['Culturas antiguas'] },
    { era:'esmirna', year:476, title:'Ãšltimo emperador romano de Occidente', description:'RÃ³mulo AugÃºstulo es depuesto.', tags:['CaÃ­da de Roma'] },
    { era:'esmirna', year:478, title:'Primer templo sintoÃ­sta en JapÃ³n', description:'ConsolidaciÃ³n del sintoÃ­smo.', tags:['Religiones del mundo'] },

    // TIATIRA
    { era:'tiatira', year:532, title:'ConstrucciÃ³n de Santa SofÃ­a en Constantinopla', description:'Obra de Justiniano.', tags:['Bizancio'] },
    { era:'tiatira', year:568, title:'Los lombardos invaden Italia', description:'Nuevo pueblo germÃ¡nico en la penÃ­nsula.', tags:['Invasiones'] },
    { era:'tiatira', year:570, title:'Nacimiento de Mahoma', description:'Fundador del islam.', tags:['Islam'] },
    { era:'tiatira', year:590, title:'El Islam se apodera del medio oriente', description:'Proceso de expansiÃ³n inicial.', tags:['Islam'] },
    { era:'tiatira', year:622, title:'Mahoma huye de la Meca', description:'HÃ©gira; inicio del calendario islÃ¡mico.', tags:['Islam'] },
    { era:'tiatira', year:622, title:'Empieza la impresiÃ³n de libros en China', description:'Uso de bloques de madera.', tags:['China'] },
    { era:'tiatira', year:640, title:'Los musulmanes conquistan el medio oriente', description:'ExpansiÃ³n Ã¡rabe-islÃ¡mica.', tags:['Islam'] },
    { era:'tiatira', year:643, title:'Empieza la construcciÃ³n de la cÃºpula de roca', description:'Santuario islÃ¡mico en JerusalÃ©n.', tags:['Islam','JerusalÃ©n'] },
    { era:'tiatira', year:715, title:'Los Ã¡rabes entran a EspaÃ±a y Portugal', description:'Dominio musulmÃ¡n en la penÃ­nsula ibÃ©rica.', tags:['Islam','Europa'] },
    { era:'tiatira', year:725, title:'Controversia de los iconoclastas', description:'Debate sobre el uso de imÃ¡genes.', tags:['TeologÃ­a'] },
    { era:'tiatira', year:730, title:'Beda escribe historia eclesiÃ¡tica en Inglaterra', description:'CrÃ³nica de la Iglesia inglesa.', tags:['Historia de la Iglesia'] },
    { era:'tiatira', year:732, title:'Batalla de Tours', description:'Carlos Martel frena el avance musulmÃ¡n.', tags:['Guerras'] },
    { era:'tiatira', year:781, title:'Los cristianos Nestorianos refugiados en China', description:'Presencia cristiana en el Lejano Oriente.', tags:['MisiÃ³n'] },
    { era:'tiatira', year:790, title:'Los Vikingos invaden Europa', description:'Comienzo de las incursiones vikingas.', tags:['Invasiones'] },
    { era:'tiatira', year:796, title:'Alcuino revisa el texto de la Vulgata', description:'Trabajo textual carolingio.', tags:['Biblia'] },
    { era:'tiatira', year:800, title:'Carlomagno coronado como emperador', description:'RenovaciÃ³n del tÃ­tulo imperial.', tags:['Imperio'] },
    { era:'tiatira', year:962, title:'Emperador Otto el Grande', description:'ConsolidaciÃ³n del Sacro Imperio.', tags:['Imperio'] },
    { era:'tiatira', year:979, title:'China unificada bajo la dinastÃ­a Sung', description:'Florecimiento cultural.', tags:['China'] },
    { era:'tiatira', year:1000, title:'Cumbre de la civilizaciÃ³n maya, YucatÃ¡n', description:'Apogeo tardÃ­o en la penÃ­nsula de YucatÃ¡n.', tags:['Culturas antiguas'] },
    { era:'tiatira', year:1054, title:'Gran Cisma', description:'SeparaciÃ³n entre Oriente y Occidente.', tags:['Cisma'] },
    { era:'tiatira', year:1066, title:'Guillermo el conquistador rey de Inglaterra', description:'Conquista normanda de Inglaterra.', tags:['Historia'] },

    // SARDIS
    { era:'sardis', year:1096, title:'Primera Cruzada', description:'ExpediciÃ³n para recuperar Tierra Santa.', tags:['Cruzadas'] },
    { era:'sardis', year:1147, title:'Segunda Cruzada', description:'Nueva campaÃ±a hacia Oriente.', tags:['Cruzadas'] },
    { era:'sardis', year:1188, title:'Tercera Cruzada', description:'Cruzada de Ricardo CorazÃ³n de LeÃ³n.', tags:['Cruzadas'] },
    { era:'sardis', year:1202, title:'Cuarta Cruzada', description:'Desviada hacia Constantinopla.', tags:['Cruzadas'] },
    { era:'sardis', year:1150, title:'Se fundan las universidades de Oxford y ParÃ­s', description:'Centros de estudio teolÃ³gico y filosÃ³fico.', tags:['Universidades'] },
    { era:'sardis', year:1170, title:'TÃ³mas Becket asesinado', description:'Conflicto entre Iglesia y corona.', tags:['Martirio'] },
    { era:'sardis', year:1215, title:'Carta Magna', description:'LÃ­mite al poder real en Inglaterra.', tags:['Historia polÃ­tica'] },
    { era:'sardis', year:1215, title:'TransubstantaciÃ³n', description:'DefiniciÃ³n de la doctrina en LetrÃ¡n IV.', tags:['Dogma'] },
    { era:'sardis', year:1265, title:'Tomas de Aquino: Suma TeolÃ³gica', description:'SÃ­ntesis de la teologÃ­a escolÃ¡stica.', tags:['TeologÃ­a'] },
    { era:'sardis', year:1266, title:'Nacimiento del pintor Giotto', description:'Pionero del arte pre-renacentista.', tags:['Arte'] },
    { era:'sardis', year:1370, title:'Jan Hus', description:'Reformador checo que predica contra los abusos de la Iglesia.', tags:['Personaje'] },
    { era:'sardis', year:1384, title:'Biblia de Wycliffe', description:'TraducciÃ³n de la Biblia al inglÃ©s.', tags:['Biblia'] },
    { era:'sardis', year:1415, title:'Martirio de Jan Hus', description:'Reformador bohemio ejecutado.', tags:['Reforma temprana'] },
    { era:'sardis', year:1418, title:'Tomas a Kempis escribe imitaciÃ³n de Cristo', description:'Obra devocional influyente.', tags:['Espiritualidad'] },
    { era:'sardis', year:1440, title:'Gutenberg introduce la imprenta', description:'Revoluciona la difusiÃ³n de libros.', tags:['Imprenta'] },
    { era:'sardis', year:1453, title:'Los Turcos conquistan Constantinopla', description:'Fin del Imperio bizantino.', tags:['Historia'] },
    { era:'sardis', year:1479, title:'InquisiciÃ³n EspaÃ±ola', description:'ConsolidaciÃ³n de la InquisiciÃ³n en EspaÃ±a.', tags:['InquisiciÃ³n'] },
    { era:'sardis', year:1494, title:'Savonarola se enfrenta a la inmoralidad papal', description:'Predicador que denuncia el pecado en Florencia.', tags:['Reforma temprana'] },

    // FILADELFIA
    { era:'filadelfia', year:1516, title:'Nuevo testamento en Erasmo', description:'EdiciÃ³n crÃ­tica en griego.', tags:['Biblia'] },
    { era:'filadelfia', year:1572, title:'Masacre del dÃ­a de San BartolomÃ©', description:'Matanzas de hugonotes en Francia.', tags:['Conflictos religiosos'] },
    { era:'filadelfia', year:1568, title:'Derrota de la armada espaÃ±ola', description:'Fracaso de la flota espaÃ±ola contra Inglaterra.', tags:['Historia'] },
    { era:'filadelfia', year:1530, title:'Iglesia Luterana', description:'ConsolidaciÃ³n de las iglesias luteranas.', tags:['Reforma'] },
    { era:'filadelfia', year:1541, title:'Iglesia Congregacionalista', description:'FormaciÃ³n de iglesias autÃ³nomas.', tags:['Reforma'] },
    { era:'filadelfia', year:1603, title:'Iglesia Presbiteriana', description:'Impulso del presbiterianismo escocÃ©s.', tags:['Reforma'] },
    { era:'filadelfia', year:1629, title:'Descartes establece el racionalismo', description:'Inicio formal del racionalismo moderno.', tags:['FilosofÃ­a'] },
    { era:'filadelfia', year:1665, title:'Isaac Newton hace experimentos con la gravedad', description:'Base de la teorÃ­a gravitatoria.', tags:['Ciencia'] },
    { era:'filadelfia', year:1569, title:'Biblia de Oso', description:'Primera Biblia protestante completa en castellano.', tags:['Biblia'] },
    { era:'filadelfia', year:1700, title:'Misioneros importantes', description:'Jonathan Edwards, Whitefield, Wesley, Brainerd, Carey, Judson, Newton, Muller, Taylor, Moody, Spurgeon, Paton, Livingston.', tags:['MisiÃ³n','Avivamiento'] },
    { era:'filadelfia', year:1859, title:'Origen de las especies, Charles Darwin', description:'PublicaciÃ³n de la obra de Darwin.', tags:['Ciencia'] },

    // LAODICEA
    { era:'laodicea', year:1914, title:'primera guerra mundial', description:'Conflicto global que marca el siglo XX.', tags:['Guerras mundiales'] },
    { era:'laodicea', year:1939, title:'segunda guerra mundial', description:'Nuevo conflicto mundial.', tags:['Guerras mundiales'] },
    { era:'laodicea', year:1948, title:'FundaciÃ³n del estado de Israel', description:'Restablecimiento de un Estado judÃ­o.', tags:['Israel'] },
    { era:'laodicea', year:1950, title:'Misioneros importantes siglo XX', description:'Martyn Lloyd-Jones, Billy Sunday, Billy Graham, Corrie ten Boom, misioneros a los indios aucas, Richard Wurmbrand.', tags:['MisiÃ³n'] },
    { era:'laodicea', year:1955, title:'Clifford Clark en Tulsa Baptis Temple', description:'Ministerio clave en Tulsa.', tags:['MisiÃ³n'] },
    { era:'laodicea', year:1960, title:'Pablo Clark va a colombia', description:'Establece la iglesia La Biblia Dice...', tags:['MisiÃ³n en Colombia'] }
  ];

  const canvas = document.getElementById('timelineCanvas');
  const detailPanel = document.getElementById('detailPanel');

  const TIMELINE_WIDTH = 8000;

  function yearToX(year) {
    const span = MAX_YEAR - MIN_YEAR;
    return ((year - MIN_YEAR) / span) * TIMELINE_WIDTH;
  }

  function createBands() {
    ERAS.forEach(era => {
      const band = document.createElement('div');
      band.className = 'era-band';
      const left = yearToX(era.start);
      const right = yearToX(era.end);
      band.style.left = left + 'px';
      band.style.width = (right - left) + 'px';

      const title = document.createElement('div');
      title.className = 'era-title';
      title.textContent = era.title;

      const subtitle = document.createElement('div');
      subtitle.className = 'era-subtitle';
      subtitle.textContent = era.subtitle;

      band.appendChild(title);
      band.appendChild(subtitle);
      canvas.appendChild(band);
    });
  }

  function createLinesAndRuler() {
    const movLine = document.createElement('div');
    movLine.className = 'track-line track-line--mov';
    canvas.appendChild(movLine);

    const evtLine = document.createElement('div');
    evtLine.className = 'track-line track-line--evt';
    canvas.appendChild(evtLine);

    const movLabel = document.createElement('div');
    movLabel.className = 'track-label track-label--mov';
    movLabel.textContent = 'MOVIMIENTOS';
    canvas.appendChild(movLabel);

    const evtLabel = document.createElement('div');
    evtLabel.className = 'track-label track-label--evt';
    evtLabel.textContent = 'EVENTOS HISTÃ“RICOS';
    canvas.appendChild(evtLabel);

    // Regla inferior
    const ruler = document.createElement('div');
    ruler.className = 'ruler';
    canvas.appendChild(ruler);

    const step = 10;
    for (let y = MIN_YEAR; y <= MAX_YEAR; y += step) {
      const x = yearToX(y);
      const tick = document.createElement('div');
      tick.className = 'ruler-tick';
      tick.style.left = x + 'px';

      const label = document.createElement('div');
      label.className = 'ruler-label';
      label.style.left = x + 'px';
      label.textContent = y;

      canvas.appendChild(tick);
      canvas.appendChild(label);
    }
        // LÃ­neas verticales en aÃ±os clave
    const dividerYears = [200, 300, 400, 1000, 1500, 1900];

    dividerYears.forEach(year => {
      const x = yearToX(year);
      const divider = document.createElement('div');
      divider.className = 'era-divider';
      divider.style.left = x + 'px';
      canvas.appendChild(divider);
    });
  }

  function showDetail(item) {
    const tagsHtml = (item.tags || [])
      .map(t => `<span class="tag">${t}</span>`).join('');
    detailPanel.innerHTML = `
      <div class="detail-card">
        <h4>${item.title}</h4>
        <p>${item.description || ''}</p>
        <div>${tagsHtml}</div>
      </div>
    `;
  }

  function layoutBubbles() {
  // Lanes separados para MOVIMIENTOS y EVENTOS
  const lanesMovs = [];
  const lanesEvents = [];

  // Alturas base (ajustadas a tus lÃ­neas punteadas)
  const MOV_BASE_Y = 190;   // debajito de la lÃ­nea de MOVIMIENTOS
  const EVT_BASE_Y = 480;   // debajito de la lÃ­nea de EVENTOS

  const GAP_EVT = 32;       // separaciÃ³n vertical fija entre eventos

    /* ---------- MOVIMIENTOS (LARGO EXACTO GARANTIZADO) ---------- */

const movementsSorted = [...MOVEMENTS].sort((a, b) => a.start - b.start);

movementsSorted.forEach(m => {
  const el = document.createElement('div');
  el.className = 'bubble bubble--movement';
  el.textContent = `${m.start}â€“${m.end} Â· ${m.title}`;
  canvas.appendChild(el);

  // ðŸ”’ CÃ¡lculo CORRECTO alineado a la regla
  const xStart = yearToX(m.start);
  const xEnd   = yearToX(m.end);

  el.style.left  = xStart + 'px';
  el.style.width = (xEnd - xStart) + 'px';

  const startX = xStart;
  const endX   = xEnd;

  // Evitar solapes horizontales
  let lane = 0;
  while (true) {
    if (lanesMovs[lane] === undefined || startX >= lanesMovs[lane] + 12) {
      lanesMovs[lane] = endX;
      break;
    }
    lane++;
  }

  // Altura dinÃ¡mica real
  const realHeight = el.getBoundingClientRect().height || 26;
  const laneHeight = realHeight + 16;

  el.style.top = (MOV_BASE_Y + lane * laneHeight) + 'px';

  el.addEventListener('click', () => showDetail(m));
});

  /* ---------- EVENTOS ---------- */
  const eventsSorted = [...EVENTS].sort((a, b) => a.year - b.year);

  eventsSorted.forEach(ev => {
    const el = document.createElement('div');
    el.className = 'bubble';
    el.textContent = `${ev.year} Â· ${ev.title}`;
    canvas.appendChild(el);

    const x = yearToX(ev.year);
    el.style.left = x + 'px';

    const width  = el.offsetWidth || 260;
    const startX = x;
    const endX   = x + width;

    let lane = 0;
    while (true) {
      if (lanesEvents[lane] === undefined || startX >= lanesEvents[lane] + 20) {
        lanesEvents[lane] = endX;
        break;
      }
      lane++;
    }

    el.style.top = (EVT_BASE_Y + lane * GAP_EVT) + 'px';

    el.addEventListener('click', () => showDetail(ev));
  });

}

  function init() {
    canvas.style.width = TIMELINE_WIDTH + 'px';
    createBands();
    createLinesAndRuler();
    layoutBubbles();
  }

  if (document.fonts && document.fonts.ready) {
    document.fonts.ready.then(init);
  } else {
    window.addEventListener('load', init);
  }
</script>

</body>
</html>
